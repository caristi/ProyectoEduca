<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    template="vista/template/layout.xhtml">
   
<ui:define name="content">
    <h:form enctype="multipart/form-data">
    
        <f:metadata>
  			<f:viewParam name="idEstudiante" value="#{reportesBean.idEstudiante}"/>
		</f:metadata>
      
       <article class="module width_full">
       
          <h1 class="site_title"><h:outputText value="Reporte Inasistencia del día" /></h1>
          
          <p:panel style="width:100%">
          	<p:outputLabel for="fecha" value="Fecha:" />
          	<p:calendar id="fecha" value="#{reportesBean.fechaReporteDia}" showOn="button" />
          </p:panel>
          <p:separator />
		  <h:panelGrid>
			   <p:commandButton value="consultar" 
			   				    action="#{reportesBean.consultarInasistenciaDelDia}"
			   				    update="tbReporEstudiantes"
			   				    icon="ui-icon-search" 
			   				    style="background:#00a72c !important;color: white;font-weight: inherit;" />
		  </h:panelGrid>
          
          <h:panelGrid>
              <p:dataTable id="tbReporEstudiantes" value="#{reportesBean.listaReporteEstuDia}" var="rep"
              			   rows="10" paginator="true" rowsPerPageTemplate="5,10,15" scrollable="true"
                           paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
					
					<p:column headerText="Código">
					   <h:outputText value="#{rep.codigoEst}" />
					</p:column>

					<p:column headerText="Nombre">
					   <h:outputText value="#{rep.nombreEst}" />
					</p:column>
					
					<p:column headerText="Apellidos" style="width:20%;">
					   <h:outputText value="#{rep.apelledio1Est} #{rep.apelledio2Est}" />
					</p:column>
					
					<p:column headerText="Tel. de casa">
					   <h:outputText value="#{rep.telefonoCasa}" />
					</p:column>
					
					<p:column headerText="Materia">
					   <h:outputText value="#{rep.nombreMateria}" />
					</p:column>
					
					<p:column headerText="Grupo">
					   <h:outputText value="#{rep.nombreGrupo}" />
					</p:column>
					
					<p:column headerText="Inasistencia">
					   <h:outputText value="#{rep.nombreTipoAsistencia}" />
					</p:column>
		      </p:dataTable>

		</h:panelGrid>
			
		</article>
    </h:form>
</ui:define>
</ui:composition>

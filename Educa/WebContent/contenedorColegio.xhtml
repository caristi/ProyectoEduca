<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    template="vista/template/layout.xhtml">
   
<ui:define name="content">
    <h:form id="formCole" enctype="multipart/form-data">
    
        <f:metadata>
  		  	<f:viewParam name="idColegio" value="#{colegioBean.idColegio}"/>	
		</f:metadata>
      
       <article class="module width_full">
            <h1 class="site_title"><h:outputText value="Administrador de datos del colegio" /></h1>
        
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
			
			<p:panel>
				 <p:panelGrid columns="4">

					  <h:outputLabel value="Nit:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="nit"
					  			   value="#{colegioBean.colegioDto.codNit}" 
					  			   style="width:200px;text-transform: uppercase"/>	
					
					  <h:outputLabel value="Nombre:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="nombre"
					  			   value="#{colegioBean.colegioDto.nombre}" 
					  			   style="width:200px;text-transform: uppercase"/>	
				
					  <h:outputLabel value="Dirección:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="dir"
					  			   value="#{colegioBean.colegioDto.direccion}" 
					  			   style="width:200px;text-transform: uppercase"/>	
					  			   
					  <h:outputLabel value="Telefono:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="tel"
					  			   value="#{colegioBean.colegioDto.tlfFijo}" 
					  			   style="width:200px;text-transform: uppercase"/>	

					  <h:outputLabel value="Representante legal:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="nomRepLegal"
					  			   value="#{colegioBean.colegioDto.nomRepLegal}" 
					  			   style="width:200px;text-transform: uppercase"/>	
					  			   
					  <h:outputLabel value="Email:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="email"
					  			   value="#{colegioBean.colegioDto.email}" 
					  			   style="width:200px;"/>	
					  			   
					  <h:outputLabel value="Página Web:" style="width:20%">
						<span style="color:D41212;">*</span>
					  </h:outputLabel>		  
					  <h:inputText id="paginaWeb"
					  			   value="#{colegioBean.colegioDto.paginaWeb}" 
					  			   style="width:200px;"/>						  			   					  			   
					  			   
					  <h:outputLabel value="Cargar logo Colegio:"/>		   
					  <p:fileUpload value="#{colegioBean.file}" 
					  				auto="true"
					  				update="imgCol grpImage"
					  				label="Adjuntar"
					  				fileUploadListener="#{colegioBean.cargarLogo}" 
					  				mode="advanced" 
					  				dragDropSupport="false"
					  				allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					  				sizeLimit="90000"
					  				fileLimit="1"
					  				invalidSizeMessage="El archivo es muy pesado"
					  				invalidFileMessage="EL archivo debe ser de las extensiones gif, jpg, jpeg o png"
					  				/>
					
					<p:panelGrid id="imgCol">				
					 
					     <p:graphicImage value="#{colegioBean.imagenColegio}" 
					                     width="100px"  
					                     id="grpImage" 
					                     height="100px" 
					                     rendered="#{colegioBean.mostrarImaggen}"/>
				     
				    </p:panelGrid>  
				  </p:panelGrid> 	
		  			   			  			   			  			   			  			   			  			   			  			   			  			   			  			   		  				   		  				   
            </p:panel>
            
            <p:separator />
            
			<h:panelGrid columns="2">
			 
			   <p:commandButton value="Guardar" 
			   				    action="#{colegioBean.guardarColegio}"
			   				    rendered="#{colegioBean.habBotonGua}"
			   				    update="formCole"
			   				    icon="ui-icon-disk" 
			   				    style="background:#00a72c !important;color: white;    font-weight: inherit;" />
			   				    
			   <p:commandButton value="Actualizar" 
			   				    action="#{colegioBean.actualizarColegio}"
			   				    rendered="#{!colegioBean.habBotonGua}"
			   				    update="formCole"
			   				    icon="ui-icon-disk" 
			   				    style="background:#00a72c !important;color: white;    font-weight: inherit;" />			   				    
			</h:panelGrid>
			
		    <p:separator />
		</article>
    </h:form>
</ui:define>
</ui:composition>

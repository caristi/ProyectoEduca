<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    template="vista/template/layout.xhtml">
   
<ui:define name="content">
    <h:form enctype="multipart/form-data">
    
        <f:metadata>
  			<f:viewParam name="idMateria" value="#{reportesBean.idMateria}"/>
		</f:metadata>
      
       <article class="module width_full">
       
          <h1 class="site_title"><h:outputText value="Reporte Inasistencia por Grupo" /></h1>
          
          <p:panelGrid columns="6">
					  
			  <h:outputLabel value="Grupo:"/>
			  <h:selectOneMenu id="idGrupo"
					  		   value="#{reportesBean.nomGrupo}"
					  		   style="width:150px">
					  		<f:selectItem itemValue="" itemLabel="Seleccionar" />
					  		<f:selectItems value="#{listaValoresBean.listaGrupos}" var="tipo"  itemValue="#{tipo.codItem}" itemLabel="#{tipo.nomItem}"/>
			  </h:selectOneMenu>
		  </p:panelGrid>
		  
		   <p:separator />
		
		  <h:panelGrid>
			   <p:commandButton value="Consultar" 
			   				    action="#{reportesBean.consultarInasitenciaPorGrupo}"
			   				    update="tbReporGrupo"
			   				    icon="ui-icon-search" 
			   				    style="background:#00a72c !important;color: white;font-weight: inherit;" />
		  </h:panelGrid>
          
          
          <h:panelGrid>
              <p:dataTable id="tbReporGrupo" value="#{reportesBean.listaReporteXGrupo}" var="rep">
 
				   	<p:column headerText="Codigo">
					   <h:outputText value="#{rep.codigoEst}" />
					</p:column>
					
					<p:column headerText="Nombre">
					   <h:outputText value="#{rep.nombreEst}" />
					</p:column>
					
				   <p:column headerText="Primer Apellido">
					   <h:outputText value="#{rep.apelledio1Est}" />
					</p:column>	
					
				   <p:column headerText="Segund Apellido">
					   <h:outputText value="#{rep.apelledio2Est}" />
					</p:column>	
				   
				   <p:column headerText="SIN EXCUSA">
					   <h:outputText value="#{rep.cantidadSinExcusas}" />
					</p:column>
					
					<p:column headerText="Porcentaje Sin excusa">
					   <h:outputText value="#{rep.porcentajeRealInasis}%" />
					</p:column>	
					
					<p:column headerText="CON EXCUSA">
					    <h:outputText value="#{rep.cantidadConExcusas}" />
					</p:column>
					
					<p:column headerText="ACTIVIDAD INSTITUCIONAL">
					    <h:outputText value="#{rep.cantidadTarde}" />
					</p:column>
					
				   <p:column headerText="Porcentaje">
					   <h:outputText value="#{rep.porcentajeInasis}%" />
					</p:column>			
		      </p:dataTable>

		</h:panelGrid>
			
		</article>
    </h:form>
</ui:define>
</ui:composition>
